<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>View All Programs</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <!-- custom stylesheet -->
    <link rel="stylesheet" href="../public/style.css">
    <script type="text/javascript">
      <!--
      function confirmDelete(name) {
        var answer = confirm("Are sure you want to delete " + name + "?")
        if (answer){
          window.location = "/delete?name=" + name;
        }
      }
      //-->
      </script>
  </head>
  <body>
    <nav class="navbar">
      <ul class="navlist">
        <p class="title">
          Program Database
          </p>
        <li><a href="/public/programform.html">Create a new Program</a></li>
        <li><a href="/allprofile">View all profiles</a></li>
        <li><a href="/allSuggestedEdits">View User Suggested Edits</a></li>
        <li><a href="/allSpotlighted">View Spotlighted Program</a></li>
      </ul>
    </nav>
    <div class="container">
      <div class="row h-100">
        <div class="col-lg-4"><!-- this is just here to center the next column --></div>
        <div class="col-lg-4 text-center my-auto">
            <% if (programs && programs.length > 0) { %>


              <p class="notice">
              Use the category selector to filter through the programs!
              </p>
             <!-- <label class="form-label">Category</label> CHANGE LATER -->
              <div class="categories">
                <form action="/categorySelect" method="use">
                  <select id = "dropCategory" name = "categorySelect" multiple>
                  <option value="Academic">Academic</option>
                  <option value="Business">Business</option>
                  <option value="Career Development">Career Development</option>
                  <option value="Education">Education</option>
                  <option value="Engineering">Engineering</option>
                  <option value="Health Care">Health Care</option>
                  <option value="Law">Law</option>
                  <option value="Non-Profit">Non-Profit</option>
                  <option value="Research">Research</option>
                  <option value="Science">Science</option>
                  <option value="Social Work">Social Work</option>
                  <option value="Sports">Sports</option>
                  <option value="Technology">Technology</option>
                  <option value="Volunteering">Volunteering</option>
                  <option value="Other">Other</option>
                  </select>
                  <button type="submit">Submit</button>
                </form>
              </div>
              <p>
              <table class="table table-bordered">
                <% programs.forEach( (program) => { %>
                  <tr>      
                    <td>Name: <b><%= program.name %></b></td> 
                    <td>Category: <b><%= program.category %></b></td>
                    <td><a href="/view?name=<%= program.name %>">View</a></td> 
                    <td><a href="/showEditForm?name=<%= program.name %>">Edit</a></td> 
                    <td><a href="/spotlight?name=<%= program.name %>">Spotlight</a></td>
                    <td><a href="javascript:confirmDelete('<%= program.name %>')">Delete</a></td>
                  </tr>                      
                <% }) %>
              </table>
              </p>
            <% } else { %>
              <form action="/categorySelect" method="use">
                <select id = "dropCategory" name = "categorySelect" multiple>
                  <option value="Academic">Academic</option>
                  <option value="Business">Business</option>
                  <option value="Career Development">Career Development</option>
                  <option value="Education">Education</option>
                  <option value="Engineering">Engineering</option>
                  <option value="Health Care">Health Care</option>
                  <option value="Law">Law</option>
                  <option value="Non-Profit">Non-Profit</option>
                  <option value="Research">Research</option>
                  <option value="Science">Science</option>
                  <option value="Social Work">Social Work</option>
                  <option value="Sports">Sports</option>
                  <option value="Technology">Technology</option>
                  <option value="Volunteering">Volunteering</option>
                  <option value="Other">Other</option>
                </select>
                <button type="submit">Submit</button>
              </form>
              <p>There are no program objects in the database.</p>
            <% } %>
        </div>
        <footer>
          <ul class="footlist">
            <li><a href="/public/programform.html">Create a new program</a></li>
            <li><a href="/all">Return to Home</a></li>
          </ul>         
        </footer>
        <div class="col-lg-4"><!-- this is just here to center the previous column --></div>
      </div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  </body>
</html>
